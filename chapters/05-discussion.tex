\chapter{Discussion}
\label{ch:discussion}

The aim of the project was to design and build a prototype of a High-Altitude
Balloon modular platform, similar in principle to buses used in the satellite
industry, and evaluate both the feasibility of such a platform and its
performance. The platform was required to allow for stable internal
communications between the payloads and the \acrlong{obc}, tracking of
ancillary data (\acrshort{gnss} co-ordinates and altitude) and reliable
transmission of the collected telemetry to one or multiple ground stations 
through a low-power radio channel. In this chapter, the \acrshort{ahabus}
platform prototype is evaluated against these aims, first by analysing the
results of tests discussed in chapter \ref{ch:results}, then through more
general qualitative observation and analysis. This chapter finally presents the
further work that would be required for the platform to fully meet its design
goals, leading to potential test flights.

\section{Analysis of Test Results}

This section aims to explain and analyse the quantitative results obtained
during the testing phase of the project. The results are presented in chapter
\ref{ch:results}, and the raw data files obtained from each tests are included
in appendices \ref{} through \ref{}, or on the project's GitHub account at
https://github.com/ahabus/results

\subsection{Day-in-the-Life Test}

\subsection{Radio System Resilience Tests}

\section{Project Evaluation}

\subsection{Platform}

As a software platform, the \acrshort{ahabus} prototype fulfils most of its
goals: the flight \acrshort{fcore} was complete enough to support full-flight
simulations, manage the bus, \acrshort{gnss} and radio communications without
failure. During the testing phase, no major software design error were found,
and the only instances where failures were found to be caused by the flight
software itself. Though quite cumbersome to work with, and lacking in
documentation, the \acrshort{fcore} configuration tool discussed in section
\ref{sssec:conf-file} proved reliable, and the resulting \acrshort{fcore} builds
did not suffer from erroneous bandwidth usage.

There are, however, areas that could be improved upon: the software design of
\acrshort{fcore} makes use of numerous data buffers for the different
transmission layers. Those buffers are required because of the slow speeds that
those communications protocol use, but are at the moment not optimised to be as
small as required â€“ instead, all buffers can hold \SI{4096}{\byte}. This would
prevent the current source code to be ported to architectures that provide less
dynamic memory than the chosen ESP8266 micro-controller does.

While the platform proved reliable and would be well suited for scientific
missions, where most of the generated telemetry is numerical measurements, it
might be less adequate for student missions where most users would expect to
transmit more data, like real-time pictures: the packets size limit
(\SI{420}{\byte}) would make transmitting any reasonably-sized image impossible.
This issue could potentially be solved by adding time division algorithms other
than the one presented in section \ref{ssec:conf-file}.

Due to lack of time, very little work was done on the hardware aspect of
\acrshort{ahabus}: testing was done using a development board instead of the
bare micro-controller for the \acrlong{obc}, and the power and payload bus were
little more than wires routed through a breadboard. An improved development
platform using a printed circuit board was designed as presented in
\ref{sec:flight-hardware}, but could not be fully assembled and tested in time.

\subsection{Radio Communications System}

\subsection{Payload Bus}

\subsection{Ground Segment}

The ground segment software was found to be reliable and sufficient for the
initial round of testing. All requirements were met: the modified version of
Dl-Fldigi was stable during the tests and successfully broadcasted the decoded
raw binary stream. The packet decoder/parser was sufficient to gather
information about the radio communication statistics and the platform's health
during missions, and received payload data was successfully written to disk
and marked as either valid or invalid.

While the current toolchain was sufficient for testing, and would likely be
usable for further tests, better packet forwarding would be required for a
finished software suite. While the current solution writes data directly to the
local drive of the receiving computer, a better solution might be to forward
decoded data and metadata for each packet to a socket on the local network, or
a server, so that client applications can be built for each team. This would
allow customised dashboards more apt to decode payload-specific data, and the
parser would only act as a dispatcher, and possibly a way to monitor the
\acrshort{ahabus} platform itself during its flight.

\section{Further Work} % << mix in with the rest?